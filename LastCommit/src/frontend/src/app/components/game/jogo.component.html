<body>
  <div id="chapter-bg" [style.background-image]="'url(' + chapterImage + ')'"></div>

  <div class="container">
    <div class="main-content">
      <div class="chapter-banner">
        <h1 class="chapter-title">{{ chapterTitle }}</h1>
      </div>

        <div class="chat-box">
          <div *ngFor="let msg of chat" 
              [ngClass]="{'player-msg': msg.from === 'player', 'llm-msg': msg.from === 'llm'}" 
              class="chat-message">
            <p [innerHTML]="msg.formattedText"></p>
          </div>
        </div>

      <div class="actions">
        <input
          type="text"
          placeholder="Digite sua ação aqui..."
          [(ngModel)]="playerAction"
          (keyup.enter)="sendAction()"
        />
        <button (click)="sendAction()">Enviar</button>

        <div *ngIf="choices.length > 0">
          <h3>Ações sugeridas:</h3>
          <ul>
            <li *ngFor="let choice of choices" (click)="chooseAction(choice)">
              {{ choice }}
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="sidebar">
      <h2>Jogador</h2>
      <div class="status">
        <p><strong>Nome:</strong> {{ player.nome }}</p>
        <p><strong>HP:</strong> {{ player.hp }} / {{ player.maxHp }}</p>
        <p><strong>Stamina:</strong> {{ player.stamina }} / {{ player.maxStamina }}</p>
        <p><strong>Inventário:</strong></p>
        <ul>
          <li *ngFor="let item of player.inventory">{{ item }}</li>
        </ul>
      </div>

      <h2>Lenda</h2>
      <div class="status">
        <p><strong>Nome:</strong> {{ enemy.nome }}</p>
        <p><strong>HP:</strong> {{ enemy.hp }} / {{ enemy.maxHp }}</p>
        <p><strong>Stamina:</strong> {{ enemy.stamina }} / {{ enemy.maxStamina }}</p>
      </div>
    </div>
  </div>
</body>
